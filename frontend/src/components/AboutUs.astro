---
interface Achievement {
  title: string;
  description: string;
  stat?: string;
}

const achievements: Achievement[] = [
  {
    title: "Proyectos Ejecutados",
    description: "M√°s de 50 proyectos de impacto social en comunidades vulnerables de Chile.",
    stat: "50+"
  },
  {
    title: "Familias Beneficiadas",
    description: "Hemos llegado a m√°s de 10,000 familias en todo el pa√≠s.",
    stat: "10K+"
  },
  {
    title: "Voluntarios Activos",
    description: "Una red de m√°s de 200 voluntarios comprometidos con el cambio social.",
    stat: "200+"
  },
  {
    title: "A√±os de Trayectoria",
    description: "15 a√±os trabajando por un Chile m√°s justo y equitativo.",
    stat: "15"
  }
];

const testimonials = [
  {
    name: "Mar√≠a Gonz√°lez",
    role: "Beneficiaria - Proyecto Agua Limpia",
    quote: "Gracias a ISF, nuestra comunidad ahora tiene acceso a agua potable. Cambi√≥ nuestras vidas."
  },
  {
    name: "Pedro Ram√≠rez",
    role: "Voluntario desde 2020",
    quote: "Ser parte de ISF me ha permitido contribuir directamente al desarrollo de mi pa√≠s."
  },
  {
    name: "Ana Silva",
    role: "Coordinadora Local",
    quote: "El trabajo de ISF es profesional, transparente y con resultados tangibles en terreno."
  }
];

// URL del video de YouTube (cambiar por la real)
const youtubeVideoId = "dQw4w9WgXcQ"; // Placeholder - reemplazar con video real
---

<section class="py-16 md:py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12">
      Sobre Nosotros
    </h2>

    <div class="max-w-6xl mx-auto">
      
      <!-- Grid Superior: Video (izq) + Logros (der) -->
      <div class="grid lg:grid-cols-2 gap-8 mb-8">
        
        <!-- Video de YouTube -->
        <div>
          <div class="relative aspect-video rounded-xl overflow-hidden shadow-lg bg-gray-900">
            <iframe
              src="https://www.youtube.com/embed/_MpcewCiwQg?si=KlpBfB18jOcaK52c"
              title="Video ISF Chile"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="absolute inset-0 w-full h-full"
            ></iframe>
          </div>
          
          <p class="mt-3 text-sm text-gray-600 text-center">
            Conoce m√°s sobre nuestro trabajo y el impacto que generamos juntos
          </p>
        </div>

        <!-- Logros -->
        <div>
          <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
            <span class="text-2xl mr-2">üìä</span>
            Nuestros Logros
          </h3>
          <div class="grid grid-cols-2 gap-4">
            {achievements.map((achievement) => (
              <div class="bg-white rounded-lg p-4 border-2 border-gray-200 hover:border-isf-celeste transition-colors">
                <div class="text-3xl font-bold text-isf-azul mb-1">
                  {achievement.stat}
                </div>
                <div class="text-sm font-semibold text-gray-900 mb-1">
                  {achievement.title}
                </div>
                <div class="text-xs text-gray-600 leading-relaxed">
                  {achievement.description}
                </div>
              </div>
            ))}
          </div>
        </div>

      </div>

      <!-- Testimonios Carousel - Centrado y m√°s alargado -->
      <div class="max-w-4xl mx-auto">
        <h3 class="text-xl font-bold text-gray-900 mb-6 text-center flex items-center justify-center">
          <span class="text-2xl mr-2">üí¨</span>
          Testimonios
        </h3>
        
        <div class="relative">
          <div class="testimonial-carousel">
            {testimonials.map((testimonial, index) => (
              <div 
                class="testimonial-slide bg-white rounded-xl p-8 border-2 border-gray-200 shadow-lg"
                data-index={index}
              >
                <div class="flex items-start space-x-1 mb-4 justify-center">
                  <span class="text-yellow-400 text-2xl">‚≠ê</span>
                  <span class="text-yellow-400 text-2xl">‚≠ê</span>
                  <span class="text-yellow-400 text-2xl">‚≠ê</span>
                  <span class="text-yellow-400 text-2xl">‚≠ê</span>
                  <span class="text-yellow-400 text-2xl">‚≠ê</span>
                </div>
                <p class="text-gray-700 italic mb-6 text-base leading-relaxed text-center max-w-2xl mx-auto">
                  "{testimonial.quote}"
                </p>
                <div class="border-t pt-4 text-center">
                  <p class="font-semibold text-gray-900 text-base">
                    {testimonial.name}
                  </p>
                  <p class="text-sm text-gray-500">
                    {testimonial.role}
                  </p>
                </div>
              </div>
            ))}
          </div>
          
          <!-- Dots indicator -->
          <div class="flex justify-center space-x-3 mt-6">
            {testimonials.map((_, index) => (
              <button
                class="carousel-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-isf-celeste transition-colors"
                data-index={index}
                aria-label={`Ver testimonio ${index + 1}`}
              ></button>
            ))}
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<script>
  // Simple carousel functionality
  let currentSlide = 0;
  const slides = document.querySelectorAll('.testimonial-slide');
  const dots = document.querySelectorAll('.carousel-dot');
  
  function showSlide(index: number) {
    slides.forEach((slide, i) => {
      const element = slide as HTMLElement;
      element.style.display = i === index ? 'block' : 'none';
    });
    
    dots.forEach((dot, i) => {
      dot.classList.toggle('bg-isf-celeste', i === index);
      dot.classList.toggle('bg-gray-300', i !== index);
    });
    
    currentSlide = index;
  }
  
  // Auto-rotate carousel every 5 seconds
  setInterval(() => {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }, 5000);
  
  // Dot click handlers
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      showSlide(index);
    });
  });
  
  // Initialize
  showSlide(0);
</script>

<style>
  .testimonial-carousel {
    position: relative;
    min-height: 240px;
  }

  .testimonial-slide {
    display: none;
  }

  .carousel-dot {
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .carousel-dot:hover {
    transform: scale(1.3);
  }
</style>